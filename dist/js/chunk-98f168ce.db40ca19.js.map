{"version":3,"sources":["webpack:///../../../src/mixins/delayable/index.ts","webpack:///./src/components/widgets/small_card.vue?16b2","webpack:///src/components/widgets/small_card.vue","webpack:///./src/components/widgets/small_card.vue?eaca","webpack:///./src/components/widgets/small_card.vue","webpack:///./src/assets/js/plot_GL.js","webpack:///./src/components/widgets/small_card.vue?3387","webpack:///../../../src/components/VHover/VHover.ts"],"names":["name","props","openDelay","type","Number","default","closeDelay","data","openTimeout","closeTimeout","undefined","methods","clearDelay","clearTimeout","this","runDelay","delay","parseInt","setTimeout","cb","open","close","render","_vm","_h","$createElement","_c","_self","scopedSlots","_u","key","fn","ref","hover","staticClass","attrs","on","expand","_v","_s","app_data","plot_data","card_index","close_view","staticRenderFns","mounted","CHANGE_PLOT_DATA","card_name","card_data","plotting","set_layout","draw","plots","computed","is_update","lakes","prev_filter","watch","set_data","update","index","current_plot_order","indexOf","last_expand","main_card_index","index_1","splice","index_2","view_selected","component","VBtn","VCard","VCardTitle","VDivider","VHover","VIcon","VRow","VSpacer","Plotting","div_name","config","displaylogo","responsive","displayModeBar","staticPlot","editable","layout","trace","plot_size","height","margin","r","t","b","l","font","size","Object","keys","xaxis","includes","title","title_temp","yaxis","showticklabels","showline","showgrid","zeroline","showlegend","err","alert","forEach","_","textinfo","animated","start_trace","temp","entries","value","x","map","y","push","Plotly","newPlot","animate","traces","Array","from","length","transition","duration","easing","purge","frames","gene_frame","then","console","log","frame","redraw","frame_num","i","f_data","parseFloat","layout_config","fig_layout_config","range","max_y","assign","trace_data","trace_0","plotly_config","disabled","onMouseEnter","onMouseLeave","$scopedSlots","element","isActive","mouseenter","mouseleave"],"mappings":"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","file":"js/chunk-98f168ce.db40ca19.js","sourcesContent":["import Vue from 'vue'\n\n/**\n * Delayable\n *\n * @mixin\n *\n * Changes the open or close delay time for elements\n */\nexport default Vue.extend<Vue & { isActive?: boolean }>().extend({\n  name: 'delayable',\n\n  props: {\n    openDelay: {\n      type: [Number, String],\n      default: 0,\n    },\n    closeDelay: {\n      type: [Number, String],\n      default: 0,\n    },\n  },\n\n  data: () => ({\n    openTimeout: undefined as number | undefined,\n    closeTimeout: undefined as number | undefined,\n  }),\n\n  methods: {\n    /**\n     * Clear any pending delay timers from executing\n     */\n    clearDelay (): void {\n      clearTimeout(this.openTimeout)\n      clearTimeout(this.closeTimeout)\n    },\n    /**\n     * Runs callback after a specified delay\n     */\n    runDelay (type: 'open' | 'close', cb?: () => void): void {\n      this.clearDelay()\n\n      const delay = parseInt((this as any)[`${type}Delay`], 10)\n\n      ;(this as any)[`${type}Timeout`] = setTimeout(cb || (() => {\n        this.isActive = { open: true, close: false }[type]\n      }), delay)\n    },\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('v-card',{staticClass:\"ma-0 pa-0\",attrs:{\"max-width\":\"400\",\"elevation\":hover ? 16 : 2},on:{\"click\":_vm.expand}},[_c('v-card-title',{staticClass:\"py-1 px-2\",on:{\"dblclick\":_vm.expand}},[_c('v-row',{staticClass:\"ma-0 pa-0\",attrs:{\"no-gutters\":\"\"}},[_c('div',{staticClass:\"ml-2 mt-1 mb-0\"},[_c('span',{staticClass:\"subtitle-1 font-weight-bold\",attrs:{\"id\":\"header\"}},[_vm._v(_vm._s(_vm.app_data.plot_data[_vm.card_index].name))])]),_c('v-spacer')],1),_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":_vm.expand}},[_vm._v(\" mdi-arrow-expand \")])],1),_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":_vm.close_view}},[_vm._v(\" mdi-close \")])],1)],1),_c('v-divider',{staticClass:\"mx-2\"}),_c('div',{staticClass:\"mx-1\",attrs:{\"id\":_vm.app_data.plot_data[_vm.card_index].name}})],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-hover v-slot:default=\"{ hover }\">\r\n    <v-card\r\n      class=\"ma-0 pa-0\"\r\n      max-width=\"400\"\r\n      :elevation=\"hover ? 16 : 2\"\r\n      @click=\"expand\"\r\n    >\r\n      <v-card-title class=\"py-1 px-2\" @dblclick=\"expand\">\r\n        <v-row class=\"ma-0 pa-0\" no-gutters>\r\n          <div class=\"ml-2 mt-1 mb-0\">\r\n            <span id=\"header\" class=\"subtitle-1 font-weight-bold\">{{\r\n              app_data.plot_data[card_index].name\r\n            }}</span>\r\n          </div>\r\n          <v-spacer></v-spacer>\r\n          <!-- <div class=\"mt-2 mr-3\" v-if=\"card_data.type == 'box'\">\r\n          <span v-if=\"card_data.trend > 0\" class=\"green--text text--darken-3\">\r\n            Decreased {{ card_data.trend }}%\r\n          </span>\r\n          <span v-else class=\"red--text text--darken-3\">\r\n            Increased {{ -card_data.trend }}%\r\n          </span>\r\n        </div> -->\r\n        </v-row>\r\n        <v-btn small icon>\r\n          <v-icon small @click=\"expand\"> mdi-arrow-expand </v-icon>\r\n        </v-btn>\r\n        <v-btn small icon>\r\n          <v-icon small @click=\"close_view\"> mdi-close </v-icon>\r\n        </v-btn>\r\n      </v-card-title>\r\n      <v-divider class=\"mx-2\"></v-divider>\r\n      <div class=\"mx-1\" :id=\"app_data.plot_data[card_index].name\"></div>\r\n    </v-card>\r\n  </v-hover>\r\n</template>\r\n<script>\r\nimport plotting from \"@/assets/js/plot_GL\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"trend_card\",\r\n  props: [\"card_index\"],\r\n  mounted() {\r\n    this.CHANGE_PLOT_DATA(this.card_index);\r\n    this.card_name = this.app_data.plot_data[this.card_index].name;\r\n    this.card_data = this.app_data.plot_data[this.card_index];\r\n    this.plotting = new plotting(this.card_name, this.card_data);\r\n    this.plotting.set_layout(\"small_plot\");\r\n    this.plotting.draw(this.card_data.plots.type);\r\n    // window.scrollTo(0, 300);\r\n  },\r\n  data: () => ({\r\n    card_data: {\r\n      chemical: \"\",\r\n      trend: 0,\r\n    },\r\n  }),\r\n  computed: {\r\n    ...mapState({\r\n      lakes: \"lakes\",\r\n      app_data: \"app_data\",\r\n    }),\r\n    is_update() {\r\n      return this.lakes.prev_filter;\r\n    },\r\n  },\r\n  watch: {\r\n    is_update() {\r\n      this.CHANGE_PLOT_DATA(this.card_index);\r\n      this.card_name = this.app_data.plot_data[this.card_index].name;\r\n      this.card_data = this.app_data.plot_data[this.card_index];\r\n      this.plotting.set_data(this.card_data);\r\n      this.plotting.set_layout(\"small_plot\");\r\n      this.plotting.draw(this.card_data.plots.type);\r\n      this.lakes.update = false;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"CHANGE_PLOT_DATA\"]),\r\n    expand() {\r\n      var index = this.app_data.current_plot_order.indexOf(this.card_index);\r\n      this.app_data.last_expand = this.app_data.main_card_index;\r\n      this.app_data.current_plot_order[index] = this.app_data.main_card_index;\r\n      this.app_data.main_card_index = this.card_index;\r\n    },\r\n    close_view() {\r\n      var index_1 = this.app_data.current_plot_order.indexOf(this.card_index);\r\n      this.app_data.current_plot_order.splice(index_1, 1);\r\n\r\n      var index_2 = this.app_data.view_selected.indexOf(this.card_index);\r\n      this.app_data.view_selected.splice(index_2, 1);\r\n\r\n      // console.log(this.app_data.view_selected);\r\n      // console.log(this.app_data.current_plot_order);\r\n      if (this.app_data.last_expand == this.card_index)\r\n        this.app_data.last_expand = -1;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.span #header {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  height: 150px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./small_card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./small_card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./small_card.vue?vue&type=template&id=228aa1d3&scoped=true&\"\nimport script from \"./small_card.vue?vue&type=script&lang=js&\"\nexport * from \"./small_card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./small_card.vue?vue&type=style&index=0&id=228aa1d3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"228aa1d3\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VHover } from 'vuetify/lib/components/VHover';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardTitle,VDivider,VHover,VIcon,VRow,VSpacer})\n","\r\nimport Plotly from 'plotly.js'\r\n\r\n// function covert_rgb(hex, alpha) {\r\n//     if (hex.length === 3) {\r\n//         hex = `${hex[0]}${hex[0]}${hex[1]}${hex[1]}${hex[2]}${hex[2]}`;\r\n//     }\r\n\r\n//     const r = parseInt(hex.substring(0, 2), 16);\r\n//     const g = parseInt(hex.substring(2, 4), 16);\r\n//     const b = parseInt(hex.substring(4, 6), 16);\r\n\r\n//     return `rgba(${r},${g},${b},${alpha})`;\r\n// }\r\n\r\n// function getRandomInt(max) {\r\n//     return Math.floor(Math.random() * Math.floor(max));\r\n//   }\r\n\r\n\r\nexport default class Plotting {\r\n    // fig_opt = {\r\n    //     fig_size: { width: 1180, height: 600 },\r\n    //     fig_margin: { r: 100, t: 50, b: 75, l: 125 },\r\n    //     font: { size: 14 },\r\n    //     showlegend: true,\r\n    //     legend:{ font: { size: 12 }, xanchor: \"auto\", yanchor: \"auto\", x: 1, y: 0 }\r\n    // }\r\n    constructor(div_name, data) {\r\n        this.div_name = div_name\r\n        this.config = {\r\n            displaylogo: false,\r\n            responsive: true,\r\n            displayModeBar: false,\r\n            staticPlot: true,\r\n            editable: false\r\n        }\r\n        this.set_data(data)\r\n    }\r\n\r\n    set_data(data) {\r\n        this.type = data.plots.type\r\n        this.layout = data.layout\r\n        this.trace = data.trace\r\n    }\r\n\r\n    set_layout(plot_size) {\r\n        if (plot_size == \"main_plot\") {\r\n            this.layout.height = 450;\r\n            this.layout.margin = { r: 30, t: 25, b: 25, l: 75 };\r\n            this.layout.font.size = 14;\r\n            if (Object.keys(this.layout.xaxis).includes(\"title_temp\")) {\r\n                this.layout.xaxis.title = this.layout.xaxis.title_temp;\r\n                this.layout.yaxis.title = this.layout.yaxis.title_temp;\r\n            }\r\n            try {\r\n                this.layout.xaxis.title.font.size = 18;\r\n                this.layout.yaxis.title.font.size = 18;\r\n\r\n                this.layout.xaxis.showticklabels = true;\r\n                this.layout.yaxis.showticklabels = true;\r\n\r\n                this.layout.yaxis.showline = true;\r\n                this.layout.xaxis.showline = true;\r\n\r\n                this.layout.yaxis.showgrid = true;\r\n                this.layout.xaxis.showgrid = true;\r\n\r\n                this.layout.xaxis.zeroline = true;\r\n                this.layout.yaxis.zeroline = true;\r\n\r\n                this.config.responsive = true;\r\n                this.config.staticPlot = false;\r\n                // this.config.editable = true;\r\n\r\n\r\n                if (this.type !== \"pie\") {\r\n                    this.layout.showlegend = true;\r\n                } else {\r\n                    this.layout.showlegend = false;\r\n                }\r\n            } catch (err) {\r\n                alert(err);\r\n            }\r\n        }\r\n        else if (plot_size == \"small_plot\") {\r\n            this.layout.height = 200;\r\n            (this.layout.margin = { r: 20, t: 10, b: 25, l: 20 }),\r\n                (this.layout.font.size = 8);\r\n            this.layout.xaxis.title_temp = this.layout.xaxis.title;\r\n            this.layout.xaxis.title = \"\";\r\n            this.layout.yaxis.title_temp = this.layout.yaxis.title;\r\n            this.layout.yaxis.title = \"\";\r\n\r\n            this.layout.xaxis.showticklabels = false;\r\n            this.layout.yaxis.showticklabels = false;\r\n\r\n            // this.layout.yaxis.showline = false;\r\n            // this.layout.xaxis.showline = false;\r\n\r\n            // this.layout.yaxis.showgrid = false;\r\n            // this.layout.xaxis.showgrid = false;\r\n\r\n            this.layout.xaxis.zeroline = false;\r\n            // this.layout.yaxis.zeroline = false;\r\n\r\n            this.layout.showlegend = false;\r\n            if (this.type == \"pie\") {\r\n                this.trace.forEach((_, index) => {\r\n                    this.trace[index].textinfo = \"none\"\r\n                });\r\n            }\r\n            // this.config.responsive = false;\r\n        }\r\n\r\n    }\r\n\r\n    draw(type) {\r\n        var animated = [\"bar\", \"scatter\", \"bar_stacked\",\"box\"]\r\n        if (animated.includes(type)) {\r\n            var start_trace = []\r\n            this.trace.forEach(t => {\r\n                var temp = {}\r\n                for (const [key, value] of Object.entries(t)) {\r\n                    temp[key] = value\r\n                }\r\n                if (type == \"scatter\") {\r\n                    temp.x = temp.x.map(x => x == null ? null : 0)\r\n                }\r\n                temp.y = temp.y.map(x => x == null ? null : 0)\r\n                start_trace.push(temp)\r\n            })\r\n            Plotly.newPlot(this.div_name, start_trace, this.layout, this.config);\r\n            Plotly.animate(this.div_name,\r\n                {\r\n                    data: this.trace,\r\n                    traces: Array.from(Array(this.trace.length).keys()),\r\n                    //  layout: { yaxis:{range: [0, 20] }}\r\n                }, {\r\n                transition: {\r\n                    duration: 1000,\r\n                    easing: 'cubic-in-out'\r\n                },\r\n            })\r\n        }\r\n        else {\r\n            Plotly.newPlot(this.div_name, this.trace, this.layout, this.config);\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        Plotly.purge(this.div_name)\r\n    }\r\n\r\n    animate_with_frame() {\r\n        // var frame_num = 30\r\n        var div_name = this.div_name\r\n        var frames = this.gene_frame(this.trace)\r\n        var start_trace = []\r\n        this.trace.forEach((t, index) => {\r\n            var temp = {}\r\n            for (const [key, value] of Object.entries(t)) {\r\n                temp[key] = value\r\n            }\r\n            temp.y = frames[0].data[index].y\r\n            start_trace.push(temp)\r\n        })\r\n        Plotly.newPlot(div_name, start_trace, this.layout, this.config\r\n        ).then(function () {\r\n            console.log(frames)\r\n            Plotly.animate(div_name, frames, {\r\n                transition: {\r\n                    duration: 0\r\n                },\r\n                frame: {\r\n                    duration: 10,\r\n                    redraw: false\r\n                }\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    gene_frame(data, frame_num = 30) {\r\n        console.log(data)\r\n        // var interval = Math.floor(data[0].x.length / frame_num)\r\n        var frames = []\r\n        for (var i = 0; i <= frame_num; i++) {\r\n            var f_data = { data: [] }\r\n            data.forEach(t => {\r\n                var temp = { x: [], y: [] }\r\n                temp.x = t.x.map(x => x)\r\n                temp.y = t.y.map(y => parseFloat(y) / frame_num * i)\r\n                f_data.data.push(temp)\r\n            })\r\n            frames.push(f_data)\r\n        }\r\n        return frames\r\n    }\r\n\r\n    plot_animation(data, layout_config = {}) {\r\n        var fig_layout_config = {\r\n            yaxis: { range: [0, data.max_y] },\r\n        }\r\n        Object.assign(fig_layout_config, layout_config)\r\n        var layout = this.set_layout(fig_layout_config)\r\n        Plotly.newPlot(this.div_name, data.trace_data.trace_0, layout, this.plotly_config);\r\n\r\n        var traces = Array.from(Array(data.trace_data.trace.length).keys())\r\n        Plotly.animate(this.div_name, {\r\n            data: data.trace_data.trace,\r\n            traces: traces,\r\n            layout: { range: [0, data.max_y] }\r\n        }, {\r\n            transition: {\r\n                duration: 1000,\r\n                easing: 'cubic-in-out'\r\n            },\r\n        })\r\n\r\n    }\r\n\r\n}\r\n\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./small_card.vue?vue&type=style&index=0&id=228aa1d3&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./small_card.vue?vue&type=style&index=0&id=228aa1d3&scoped=true&lang=css&\"","// Mixins\nimport Delayable from '../../mixins/delayable'\nimport Toggleable from '../../mixins/toggleable'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { consoleWarn } from '../../util/console'\n\n// Types\nimport { VNode, ScopedSlotChildren } from 'vue/types/vnode'\n\nexport default mixins(\n  Delayable,\n  Toggleable\n  /* @vue/component */\n).extend({\n  name: 'v-hover',\n\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    value: {\n      type: Boolean,\n      default: undefined,\n    },\n  },\n\n  methods: {\n    onMouseEnter () {\n      this.runDelay('open')\n    },\n    onMouseLeave () {\n      this.runDelay('close')\n    },\n  },\n\n  render (): VNode {\n    if (!this.$scopedSlots.default && this.value === undefined) {\n      consoleWarn('v-hover is missing a default scopedSlot or bound value', this)\n\n      return null as any\n    }\n\n    let element: VNode | ScopedSlotChildren\n\n    /* istanbul ignore else */\n    if (this.$scopedSlots.default) {\n      element = this.$scopedSlots.default({ hover: this.isActive })\n    }\n\n    if (Array.isArray(element) && element.length === 1) {\n      element = element[0]\n    }\n\n    if (!element || Array.isArray(element) || !element.tag) {\n      consoleWarn('v-hover should only contain a single element', this)\n\n      return element as any\n    }\n\n    if (!this.disabled) {\n      element.data = element.data || {}\n      this._g(element.data, {\n        mouseenter: this.onMouseEnter,\n        mouseleave: this.onMouseLeave,\n      })\n    }\n\n    return element\n  },\n})\n"],"sourceRoot":""}