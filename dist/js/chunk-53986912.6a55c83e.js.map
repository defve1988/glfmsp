{"version":3,"sources":["webpack:///./src/components/widgets/site_map.vue?b337","webpack:///./src/assets/plot_js/plot_site_map.js","webpack:///src/components/widgets/site_map.vue","webpack:///./src/components/widgets/site_map.vue?a8cf","webpack:///./src/components/widgets/site_map.vue?4b55","webpack:///./src/components/widgets/site_map.vue?bfca"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticRenderFns","sites","config","mapboxAccessToken","displaylogo","responsive","displayModeBar","unpack","rows","key","val","map","row","res","filter","plot_map","div_name","map_config","data","type","text","lon","lat","marker","color","size","name","textposition","mode","textfont","showlegend","layout","dragmode","mapbox","margin","r","t","b","l","autosize","legend","x","xanchor","font","family","Plotly","newPlot","props","components","mounted","style","center","zoom","methods","update_map_type","app_data","map_type","layers","console","log","plot_site_map","computed","map_","watch","component","VRow"],"mappings":"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","file":"js/chunk-53986912.6a55c83e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{attrs:{\"justify\":\"center\"}},[_c('div',{staticClass:\"my_dataviz mx-10 pa-0 mb-5\",attrs:{\"id\":\"map_div\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n// import * as d3 from 'd3'\r\nimport Plotly from 'plotly.js'\r\n\r\nconst sites = [\r\n    { 'name': 'Middle Bass Island', 'site_type': 'industrial', 'lat': '41.6939', 'lon': '-82.8090' },\r\n    { 'name': 'Dunkirk', 'site_type': 'non-industrial', 'lat': '42.4990', 'lon': '-79.3724' },\r\n    { 'name': 'Rockport', 'site_type': 'non-industrial', 'lat': '45.2163', 'lon': '-83.3479' },\r\n    { 'name': 'Port Austin', 'site_type': 'industrial', 'lat': '44.0778', 'lon': '-82.9946' },\r\n    { 'name': 'Saugatuck', 'site_type': 'industrial', 'lat': '42.6593', 'lon': '-86.2321' },\r\n    { 'name': 'Sturgeon Bay', 'site_type': 'non-industrial', 'lat': '44.9074', 'lon': '-87.4415' },\r\n    { 'name': 'Oswego', 'site_type': 'non-industrial', 'lat': '43.4951', 'lon': '-76.5198' },\r\n    { 'name': 'North Hamlin', 'site_type': 'industrial', 'lat': '43.3712', 'lon': '-77.8752' },\r\n    { 'name': 'Apostle Islands', 'site_type': 'industrial', 'lat': '46.9461', 'lon': '-90.6433' },\r\n    { 'name': 'Keweenaw Point', 'site_type': 'non-industrial', 'lat': '47.4136', 'lon': '-87.6938' },\r\n]\r\n\r\nconst config = {\r\n    mapboxAccessToken: \"pk.eyJ1IjoiZGVmdmUxOTg4IiwiYSI6ImNrNzNzZmN3dzBmMnMzZ3FvMzJ0MDRpa2QifQ.xLG4lim5AonGbkDtgP9-5A\",\r\n    displaylogo: false,\r\n    responsive: true,\r\n    displayModeBar: false\r\n};\r\n\r\nfunction unpack(rows, key, val) {\r\n    if (val === \"all\") {\r\n        return rows.map(function (row) { return row[key]; });\r\n    }\r\n    else {\r\n        let res = rows.filter(function (row) { return row[\"site_type\"] === val; });\r\n        return res.map(function (row) { return row[key]; });\r\n    }\r\n}\r\n\r\nfunction plot_map(div_name, map_config) {\r\n\r\n    var data = [\r\n        {\r\n            type: \"scattermapbox\",\r\n            text: unpack(sites, \"name\", \"industrial\"),\r\n            lon: unpack(sites, \"lon\", \"industrial\"),\r\n            lat: unpack(sites, \"lat\", \"industrial\"),\r\n            marker: {color: \"darkblue\", size: 14},\r\n            name: 'Industrial Areas',\r\n            textposition: 'bottom',\r\n            mode: 'markers+text',\r\n            textfont: { size: 12, color: 'black' },\r\n            showlegend: true,\r\n        },\r\n        {\r\n            type: \"scattermapbox\",\r\n            text: unpack(sites, \"name\", \"non-industrial\"),\r\n            lon: unpack(sites, \"lon\", \"non-industrial\"),\r\n            lat: unpack(sites, \"lat\", \"non-industrial\"),\r\n            marker: { color: \"green\", size: 14 },\r\n            name: 'Less-industrial Areas',\r\n            textposition: 'bottom',\r\n            mode: 'markers+text',\r\n            textfont: { size: 12, color: 'black'},\r\n            showlegend: true,\r\n        },\r\n    ];\r\n\r\n    var layout = {\r\n        dragmode: \"zoom\",\r\n        mapbox: map_config,\r\n        margin: { r: 0, t: 0, b: 0, l: 0 },\r\n        autosize: true,\r\n        legend: {\r\n            x: 1,\r\n            xanchor: 'right',\r\n            font: {\r\n                family: 'sans-serif',\r\n                size: 14,\r\n                color: '#000'\r\n            },\r\n        }\r\n    };\r\n\r\n    Plotly.newPlot(div_name, data, layout, config);\r\n}\r\n\r\n\r\nexport default { plot_map }","<template>\r\n  <v-row justify=\"center\">\r\n      <div id=\"map_div\" class=\"my_dataviz mx-10 pa-0 mb-5\"></div>\r\n  </v-row>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport plot_site_map from \"@/assets/plot_js/plot_site_map\";\r\nexport default {\r\n  name: \"site_map\",\r\n  props: [],\r\n  components: {},\r\n  data: () => ({\r\n    map_config: {},\r\n    lat: 45.3,\r\n    lon: -83,\r\n    zoom: 5.2,\r\n  }),\r\n  mounted() {\r\n    (this.map_config = {\r\n      style: \"light\",\r\n      center: { lat: this.lat, lon: this.lon },\r\n      zoom: this.zoom,\r\n    }),\r\n      plot_site_map.plot_map(\"map_div\", this.map_config);\r\n  },\r\n  methods: {\r\n    update_map_type() {\r\n      switch (this.app_data.map_type) {\r\n        case \"Land Map\":\r\n          this.map_config = {\r\n            style: \"outdoors\",\r\n            center: { lat: this.lat, lon: this.lon },\r\n            zoom: this.zoom,\r\n          };\r\n          break;\r\n        case \"Simple Map\":\r\n          this.map_config = {\r\n            style: \"light\",\r\n            center: { lat: this.lat, lon: this.lon },\r\n            zoom: this.zoom,\r\n          };\r\n          break;\r\n        case \"Satellite Map\":\r\n          this.map_config = {\r\n            style: \"white-bg\",\r\n            layers: [\r\n              {\r\n                sourcetype: \"raster\",\r\n                source: [\r\n                  \"https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}\",\r\n                ],\r\n                below: \"traces\",\r\n              },\r\n              { sourcetype: \"streets\" },\r\n            ],\r\n            center: { lat: this.lat, lon: this.lon },\r\n            zoom: this.zoom,\r\n          };\r\n          break;\r\n      }\r\n      console.log(this.map_type);\r\n      plot_site_map.plot_map(\"map_div\", this.map_config);\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState({ app_data: \"app_data\" }),\r\n    map_() {\r\n      return this.app_data.map_type;\r\n    },\r\n  },\r\n  watch: {\r\n    map_() {\r\n      this.update_map_type();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.my_dataviz {\r\n  height: 600px;\r\n  width: 100%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./site_map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./site_map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./site_map.vue?vue&type=template&id=486ddd72&scoped=true&\"\nimport script from \"./site_map.vue?vue&type=script&lang=js&\"\nexport * from \"./site_map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./site_map.vue?vue&type=style&index=0&id=486ddd72&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"486ddd72\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VRow})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./site_map.vue?vue&type=style&index=0&id=486ddd72&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./site_map.vue?vue&type=style&index=0&id=486ddd72&scoped=true&lang=css&\""],"sourceRoot":""}