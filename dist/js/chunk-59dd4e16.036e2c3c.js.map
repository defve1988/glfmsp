{"version":3,"sources":["webpack:///./src/components/widgets/small_card.vue?f375","webpack:///src/components/widgets/small_card.vue","webpack:///./src/components/widgets/small_card.vue?eaca","webpack:///./src/components/widgets/small_card.vue?8c87","webpack:///./src/assets/plot_js/plot_GL.js","webpack:///./src/components/widgets/small_card.vue?07df"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","card_name","on","close_view","staticRenderFns","name","props","mounted","fig_opt","fig_size","fig_margin","font","showlegend","legend","xanchor","yanchor","x","y","card_data","app_data","plot_data","filter","plotting","draw","window","scrollTo","data","computed","is_update","lakes","prev_filter","watch","update","methods","index","plots","forEach","element","view_selected","pop","layout","type","xaxis","yaxis","plot_general","trace_data","bargap","bargroupgap","barmode","margin","plot_animation","component","VBtn","VCard","VCardTitle","VDivider","VIcon","VRow","VSpacer","Plotting","div_name","color_theme","year","plotly_config","displaylogo","responsive","displayModeBar","staticPlot","editable","layout_default","height","autosize","autotick","dtick","Plotly","purge","layout_config","Object","assign","y0","map","error_y","i","length","indexOf","parseInt","trace_data_0","marker","color","rgba","line","rgb","width","array","visible","thickness","fig_layout_config","range","max_val","set_layout","newPlot","animate","traces","transition","duration","easing","mode","size","console","log","addTraces","values","labels","colors","trace","all_data","entries","key","value","temp_data","push","max_y","trace_0","Array","from","keys"],"mappings":"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","file":"js/chunk-59dd4e16.036e2c3c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"ma-0 pa-0\",attrs:{\"max-width\":\"400\"}},[_c('v-card-title',{staticClass:\"py-1 px-2\"},[_c('v-row',{staticClass:\"ma-0 pa-0\",attrs:{\"no-gutters\":\"\"}},[_c('div',{staticClass:\"ml-2 mt-1 mb-0\"},[_c('span',{staticClass:\"subtitle-1 font-weight-bold\",attrs:{\"id\":\"header\"}},[_vm._v(_vm._s(_vm.card_name))])]),_c('v-spacer')],1),_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":_vm.close_view}},[_vm._v(\" mdi-close \")])],1)],1),_c('v-divider',{staticClass:\"mx-2\"}),_c('div',{staticClass:\"mx-1\",attrs:{\"id\":_vm.card_name}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card class=\"ma-0 pa-0\" max-width=\"400\">\r\n    <v-card-title class=\"py-1 px-2\">\r\n      <v-row class=\"ma-0 pa-0\" no-gutters>\r\n        <div class=\"ml-2 mt-1 mb-0\">\r\n          <span id=\"header\" class=\"subtitle-1 font-weight-bold\">{{\r\n            card_name\r\n          }}</span>\r\n        </div>\r\n        <v-spacer></v-spacer>\r\n        <!-- <div class=\"mt-2 mr-3\" v-if=\"card_data.type == 'box'\">\r\n          <span v-if=\"card_data.trend > 0\" class=\"green--text text--darken-3\">\r\n            Decreased {{ card_data.trend }}%\r\n          </span>\r\n          <span v-else class=\"red--text text--darken-3\">\r\n            Increased {{ -card_data.trend }}%\r\n          </span>\r\n        </div> -->\r\n      </v-row>\r\n      <v-btn small icon>\r\n        <v-icon small @click=\"close_view\"> mdi-close </v-icon>\r\n      </v-btn>\r\n    </v-card-title>\r\n    <v-divider class=\"mx-2\"></v-divider>\r\n    <div class=\"mx-1\" :id=\"card_name\"></div>\r\n  </v-card>\r\n</template>\r\n<script>\r\nimport plotting from \"@/assets/plot_js/plot_GL\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  name: \"trend_card\",\r\n  props: [\"card_name\"],\r\n  mounted() {\r\n    var fig_opt = {\r\n      fig_size: { width: 250, height: 200 },\r\n      fig_margin: { r: 20, t: 10, b: 25, l: 20 },\r\n      font: { size: 8 },\r\n      showlegend: false,\r\n      legend: {\r\n        font: { size: 12 },\r\n        xanchor: \"auto\",\r\n        yanchor: \"auto\",\r\n        x: 1,\r\n        y: 0,\r\n      },\r\n    };\r\n    this.card_data = this.app_data.plot_data.filter(\r\n      (x) => x.name == this.card_name\r\n    )[0];\r\n    // console.log(this.card_data);\r\n    this.plotting = new plotting(this.card_name, fig_opt);\r\n    this.draw();\r\n    window.scrollTo(0, 300);\r\n  },\r\n  data: () => ({\r\n    card_data: {\r\n      chemical: \"\",\r\n      trend: 0,\r\n    },\r\n  }),\r\n  computed: {\r\n    ...mapState({\r\n      lakes: \"lakes\",\r\n      app_data: \"app_data\",\r\n    }),\r\n    is_update() {\r\n      return this.lakes.prev_filter;\r\n    },\r\n  },\r\n  watch: {\r\n    is_update() {\r\n      this.card_data = this.app_data.plot_data.filter(\r\n        (x) => x.name == this.card_name\r\n      )[0];\r\n      this.draw();\r\n      this.lakes.update = false;\r\n    },\r\n  },\r\n  methods: {\r\n    close_view() {\r\n      var index = -1;\r\n      this.app_data.plots.forEach((element, i) => {\r\n        if (element.name == this.card_name) index = i;\r\n      });\r\n      this.app_data.plots[index].plots = false;\r\n      this.app_data.view_selected.pop(index);\r\n    },\r\n    draw() {\r\n      var layout;\r\n      switch (this.card_data.type) {\r\n        case \"box\":\r\n          layout = {\r\n            xaxis: { dtick: 2 },\r\n            yaxis: { range: [0, this.card_data.max_y * 1.05] },\r\n          };\r\n          this.plotting.plot_general(this.card_data.trace_data, layout);\r\n          break;\r\n        case \"hist\":\r\n          layout = {\r\n            bargap: 0.05,\r\n            bargroupgap: 0.2,\r\n            barmode: \"overlay\",\r\n          };\r\n          if (this.card_name == \"Chemical Histogram\") {\r\n            layout.xaxis = { range: [0, 2000] };\r\n          }\r\n          this.plotting.plot_general(this.card_data.trace_data, layout);\r\n          break;\r\n        case \"pie\":\r\n          layout = {\r\n            font: { size: 12 },\r\n          };\r\n          this.plotting.plot_general(this.card_data.trace_data, layout);\r\n          break;\r\n        case \"scatter\":\r\n          layout = {\r\n            showlegend: true,\r\n            legend: {\r\n              font: { size: 10 },\r\n              xanchor: \"auto\",\r\n              yanchor: \"auto\",\r\n              x: 1,\r\n              y: 1,\r\n            },\r\n          };\r\n          this.plotting.plot_general(this.card_data.trace_data, layout);\r\n          break;\r\n        case \"bar_stacked\":\r\n          layout = {\r\n            margin: { r: 20, t: 10, b: 50, l: 20 },\r\n            barmode: \"stack\",\r\n          };\r\n          this.plotting.plot_animation(this.card_data, layout);\r\n          break;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.span #header {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  height: 150px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./small_card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./small_card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./small_card.vue?vue&type=template&id=10e6363a&scoped=true&\"\nimport script from \"./small_card.vue?vue&type=script&lang=js&\"\nexport * from \"./small_card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./small_card.vue?vue&type=style&index=0&id=10e6363a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10e6363a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardTitle,VDivider,VIcon,VRow,VSpacer})\n","\r\nimport Plotly from 'plotly.js'\r\n\r\n// function covert_rgb(hex, alpha) {\r\n//     if (hex.length === 3) {\r\n//         hex = `${hex[0]}${hex[0]}${hex[1]}${hex[1]}${hex[2]}${hex[2]}`;\r\n//     }\r\n\r\n//     const r = parseInt(hex.substring(0, 2), 16);\r\n//     const g = parseInt(hex.substring(2, 4), 16);\r\n//     const b = parseInt(hex.substring(4, 6), 16);\r\n\r\n//     return `rgba(${r},${g},${b},${alpha})`;\r\n// }\r\n\r\n// function getRandomInt(max) {\r\n//     return Math.floor(Math.random() * Math.floor(max));\r\n//   }\r\n\r\n\r\nexport default class Plotting {\r\n    // fig_opt = {\r\n    //     fig_size: { width: 1180, height: 600 },\r\n    //     fig_margin: { r: 100, t: 50, b: 75, l: 125 },\r\n    //     font: { size: 14 },\r\n    //     showlegend: true,\r\n    //     legend:{ font: { size: 12 }, xanchor: \"auto\", yanchor: \"auto\", x: 1, y: 0 }\r\n    // }\r\n    constructor(div_name, fig_opt) {\r\n        this.div_name = div_name\r\n        this.fig_size = fig_opt.fig_size\r\n        this.fig_margin = fig_opt.fig_margin\r\n        this.color_theme = [\r\n            '1E88E5',\r\n            '28965A',\r\n            'E53E20',\r\n            '7CB342',\r\n            'd95282',\r\n            'FBC02D',\r\n            '00B8DC',\r\n            '232322',\r\n            'AAAAAA',\r\n        ]\r\n        this.year = [2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015]\r\n        this.plotly_config = {\r\n            displaylogo: false,\r\n            responsive: true,\r\n            displayModeBar: false,\r\n            staticPlot: false,\r\n            editable: false\r\n        }\r\n        this.layout_default = {\r\n            margin: this.fig_margin,\r\n            // width: this.fig_size.width,\r\n            height: this.fig_size.height,\r\n            font: fig_opt.font,\r\n            showlegend: fig_opt.showlegend,\r\n            legend: fig_opt.legend,\r\n            autosize: true,\r\n            xaxis: {\r\n                autotick: true,\r\n                dtick: 2\r\n            },\r\n            yaxis: {\r\n                autotick: true,\r\n                dtick: 50\r\n            }\r\n        }\r\n    }\r\n    clear() {\r\n        Plotly.purge(this.div_name)\r\n    }\r\n\r\n    set_layout(layout_config) {\r\n        return Object.assign(this.layout_default, layout_config)\r\n    }\r\n\r\n    plot_bar(data, layout_config = {}) {\r\n        var x = this.year\r\n        var y0 = this.year.map(() => 0)\r\n        var y = this.year.map(() => 0)\r\n        var error_y = this.year.map(() => 0)\r\n        for (var i = 0; i < data.y.length; i++) {\r\n            var index = this.year.indexOf(parseInt(data.x[i]))\r\n            if (index >= 0) {\r\n                y[index] = data.y[i]\r\n                error_y[index] = data.error_y[i]\r\n            }\r\n            else {\r\n                y[index] = 0\r\n                error_y[index] = 0\r\n            }\r\n        }\r\n        var trace_data_0 = [{\r\n            x: x,\r\n            y: y0,\r\n            type: 'bar',\r\n        }];\r\n\r\n        var trace_data = [{\r\n            x: x,\r\n            y: y,\r\n            type: 'bar',\r\n            marker: {\r\n                color: data.color.rgba,\r\n                line: {\r\n                    color: data.color.rgb,\r\n                    width: 0.7,\r\n                }\r\n            },\r\n            error_y: {\r\n                type: 'data',\r\n                array: error_y,\r\n                visible: true,\r\n                color: data.color.rgb,\r\n                thickness: 0.5,\r\n                width: 3,\r\n            },\r\n        }];\r\n\r\n        var fig_layout_config = {\r\n            yaxis: { range: [0, data.max_val + 100] }\r\n        }\r\n\r\n        Object.assign(fig_layout_config, layout_config)\r\n        var layout = this.set_layout(fig_layout_config)\r\n        Plotly.newPlot(this.div_name, trace_data_0, layout, this.plotly_config);\r\n        Plotly.animate(this.div_name, {\r\n            data: trace_data,\r\n            traces: [0],\r\n            layout: {\r\n                yaxis: { range: [0, data.max_val + 100] }\r\n            }\r\n        }, {\r\n            transition: {\r\n                duration: 500,\r\n                easing: 'cubic-in-out'\r\n            },\r\n        })\r\n    }\r\n\r\n    plot_scatter(x, y, layout_config = {}) {\r\n        var trace_data = [{\r\n            x: x,\r\n            y: y,\r\n            mode: 'markers',\r\n            type: 'scatter',\r\n            marker: {\r\n                size: 4,\r\n            }\r\n\r\n        }];\r\n        var fig_layout_config = {\r\n        }\r\n        console.log(trace_data)\r\n        Object.assign(fig_layout_config, layout_config)\r\n        // var layout = this.set_layout(fig_layout_config)\r\n        Plotly.addTraces(this.div_name, trace_data);\r\n        // Plotly.animate(this.div_name, {\r\n        //     data: trace_data,\r\n        //     traces: [1],\r\n        //     layout: {}\r\n        //   }, {\r\n        //     transition: {\r\n        //       duration: 500,\r\n        //       easing: 'cubic-in-out'\r\n        //     },\r\n        //     frame: {\r\n        //       duration: 500\r\n        //     }\r\n        //   })\r\n\r\n    }\r\n\r\n    plot_pie(data, layout_config = {}) {\r\n\r\n        var trace_data_0 = [{\r\n            values: data.values.map(() => 0),\r\n            labels: data.labels,\r\n            type: 'pie',\r\n        }];\r\n\r\n        var trace_data = [{\r\n            values: data.values,\r\n            labels: data.labels,\r\n            type: 'pie',\r\n            marker: {\r\n                colors: data.color,\r\n            },\r\n        }];\r\n\r\n        var fig_layout_config = {\r\n            yaxis: { range: [0, data.max_val + 100] }\r\n        }\r\n\r\n        Object.assign(fig_layout_config, layout_config)\r\n        var layout = this.set_layout(fig_layout_config)\r\n        Plotly.newPlot(this.div_name, trace_data_0, layout, this.plotly_config);\r\n        Plotly.animate(this.div_name, {\r\n            data: trace_data,\r\n            traces: [0],\r\n        }, {\r\n            transition: {\r\n                duration: 500,\r\n                easing: \"quadratic-in-out\"\r\n            },\r\n        })\r\n    }\r\n\r\n    plot_general(data, layout_config = {}) {\r\n        var layout = this.set_layout(layout_config)\r\n        Plotly.newPlot(this.div_name, data.trace, layout, this.plotly_config);\r\n    }\r\n\r\n\r\n    plot_stacked_bar(all_data, layout_config = {}) {\r\n        var x = this.year\r\n        var y0 = this.year.map(() => 0)\r\n        var trace_data_0 = [\r\n            { x: x, y: y0, type: 'bar' },\r\n            { x: x, y: y0, type: 'bar' },\r\n            { x: x, y: y0, type: 'bar' },\r\n            { x: x, y: y0, type: 'bar' },\r\n            { x: x, y: y0, type: 'bar' },\r\n            { x: x, y: y0, type: 'bar' },];\r\n\r\n        var trace_data = []\r\n\r\n        for (const [key, value] of Object.entries(all_data)) {\r\n            // console.log(value)\r\n            var y = this.year.map(() => 0)\r\n            var error_y = this.year.map(() => 0)\r\n\r\n            for (var i = 0; i < value.y.length; i++) {\r\n                var index = this.year.indexOf(parseInt(value.x[i]))\r\n                if (index >= 0) {\r\n                    y[index] = value.y[i]\r\n                    error_y[index] = value.error_y[i]\r\n                }\r\n                else {\r\n                    y[index] = 0\r\n                    error_y[index] = 0\r\n                }\r\n            }\r\n\r\n            var temp_data = {\r\n                x: x,\r\n                y: y,\r\n                type: 'bar',\r\n                marker: {\r\n                    color: value.color.rgba,\r\n                    line: {\r\n                        color: value.color.rgb,\r\n                        width: 0.7,\r\n                    }\r\n                },\r\n                name: key,\r\n                error_y: {\r\n                    type: 'data',\r\n                    array: error_y,\r\n                    visible: true,\r\n                    color: value.color.rgb,\r\n                    thickness: 0.5,\r\n                    width: 3,\r\n                },\r\n            };\r\n\r\n            trace_data.push(temp_data)\r\n        }\r\n\r\n        var fig_layout_config = {\r\n            yaxis: { range: [0, 2000] },\r\n            barmode: 'stack'\r\n        }\r\n\r\n\r\n        Object.assign(fig_layout_config, layout_config)\r\n        var layout = this.set_layout(fig_layout_config)\r\n        Plotly.newPlot(this.div_name, trace_data_0, layout, this.plotly_config);\r\n        Plotly.animate(this.div_name, {\r\n            data: trace_data,\r\n            traces: [0, 1, 2, 3, 4, 5],\r\n            layout: {\r\n                yaxis: { range: [0, 2000] }\r\n            }\r\n        }, {\r\n            transition: {\r\n                duration: 500,\r\n                easing: 'cubic-in-out'\r\n            },\r\n        })\r\n    }\r\n\r\n    plot_animation(data, layout_config = {}){\r\n        console.log(data)\r\n        var fig_layout_config = {\r\n            yaxis: { range: [0, data.max_y] },\r\n            barmode: 'stack'\r\n        }\r\n        Object.assign(fig_layout_config, layout_config)\r\n        var layout = this.set_layout(fig_layout_config)\r\n        Plotly.newPlot(this.div_name, data.trace_data.trace_0,layout, this.plotly_config);\r\n\r\n        var traces = Array.from(Array(data.trace_data.trace.length).keys())\r\n        Plotly.animate(this.div_name, {\r\n            data: data.trace_data.trace,\r\n            traces: traces,\r\n            layout:{ range: [0, data.max_y] }\r\n        }, {\r\n            transition: {\r\n                duration: 500,\r\n                easing: 'cubic-in-out'\r\n            },\r\n        })\r\n\r\n\r\n    }\r\n}\r\n\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./small_card.vue?vue&type=style&index=0&id=10e6363a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./small_card.vue?vue&type=style&index=0&id=10e6363a&scoped=true&lang=css&\""],"sourceRoot":""}